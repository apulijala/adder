pipeline {
    agent{
        label "docker"
    }
    stages {
        stage("Running some command") {
            steps {
                echo "========executing A========"
                script {

                    def answer = input message : "Is this Input Message ? ",
                            parameters : [
                                booleanParam(defaultValue : true, 
                                    description : "Prerelease setting", name : "prerelease"
                                ), 

                                choice(choices : "choice1\nchoice2\nchoice3\nchoice4", 
                                    description : "Choose an option", name : "Options"
                                )
                            ]
                    echo "Answer is ${answer}"
                    echo "Option is ${answer['Options']}"
                    echo "Perrelease is ${answer['prerelease']}"

                    def credentials = input message : "Choose Credentials", 
                                parameters : [
                                        [
                                            $class: 'CredentialsParameterDefintion', 
                                            credentialType : 'com.cloudbees.jenkins.plugins.sshcredentials.impl.BasicSSHUserPrivateKey', 
                                            defaultValue : "jenkins2-ssh", 
                                            description : "SSH Key for Jenkins", 
                                            name : "SSH", 
                                            required : true
                                        ]
                                ]
                    echo "Credentials are ${credentials}"
                    
                }
                
            }
        } 
        stage('run-parallel-branches') {
            agent {
                label "docker"
            }
            steps {
                
                parallel(
                    a: {
                        echo "Parallel Branch A"
                    },

                    b: {
                        echo "Parllel Branch B and B"
                    }
                )
            }
        }
    }
}