pipeline {
    agent{
        label "docker"
    }
    parameters {
        string( name : "hostname", defaultValue: "demo-dev", description : "Hostname"   )
        booleanParam(name :"yesno", defaultValue: false, description : "Checkbox" )
        choice : (name : "space", defaultValue: ["Mercury", "Venus", "Mars", "Juptier" ], 
            description : "Pick a Planet")
        text : (name :"story", defaultValue: "One\nTwo\nThree\nFour", description : "Story ")
        password : (name : "passwd", defaultValue: "Type some text")
    }

    stages {
        stage("Running some command") {

            steps {
                echo "========executing A========"
                script {
                    

                    echo "Name is ${hostname} "
                    echo "Yes/no parameter is ${yesno}"
                    echo "Choice is ${choice}"
                    echo "Text chosen is ${Story}"
                    echo "Password is ${passwd}"
                    
                    def answer = input message : "Is this Input Message ? ",
                    parameters : [
                        booleanParam(defaultValue : true, 
                            description : "Prerelease setting", name : "prerelease"
                        ), 

                        choice(choices : "choice1\nchoice2\nchoice3\nchoice4", 
                            description : "Choose an option", name : "Options"
                        )
                    ]
                    echo "Answer is ${answer}"
                    def lines = input message : "Select lines",
                        parameters : [
                            text(
                                defaultValue : """
                                    Line one, 
                                    Jaya Guru Datta and Sree Guru Datta, 
                                """, 
                                description : "Select the lines", 
                                name : "InputLines"
                            )
                        ]
                    echo "Lines are ${lines}"

                    def password = input message : "Enter password", 
                        parameters : [
                            password(defaultValue : "password", 
                                    description : "Enter your password", name : "passwd")
                        ]

                    echo "password is ${password}"
                    def resposne = input message: "Enter the response", parameters : [
                        string(default : "Text Box", description : "Enter Response", 
                            name : "response"
                        )
                    ]

                    // echo "Response is ${response} verified"

                    /* Did not work
                    def selection = input message : "Enter the selection", 
                        parameters : [
                            run(
                                description : "Choose the run of the project", 
                                filter  : "ALL", name : "RUN"
                            )
                        ]
                    echo "Selection is ${selection}"
                    */

                    def loginInfo = input message : "Enter Login ", 
                            parameters : [
                                string(defaultValue : "" , description : "Enter User Id: ", 
                                    name : "userid"
                                ), 
                                password(
                                    defaultValue : "", description : "Enter Password: ", 
                                    name : "passwd"
                                )
                            ]
                    echo "User name = " + loginInfo["userid"]
                    echo "Password = ${loginInfo['passwd']}"
                    echo loginInfo.userid + " " + loginInfo.passwd
                    echo "Different ways to extranct parameters"

                }
                            
                
            }
        } 
        stage('run-parallel-branches') {
            agent {
                label "docker"
            }
            steps {
                
                parallel(
                    a: {
                        echo "Parallel Branch A"
                    },

                    b: {
                        echo "Parllel Branch B and B"
                    }
                )
            }
        }
    }
}